---
title: "House"
output: pdf_document
date: "2024-10-26"
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(dplyr)
```

```{r}
house <- read.csv("Voting Data - House.csv")
```

```{r}
house$R_vote_share <- house$votes_r / house$votes_total * 100

result <- house %>%
  group_by(state_abbrev, dist) %>%
  summarize(
    avg_R_votes = mean(votes_r, na.rm = TRUE),
    avg_D_votes = mean(votes_d, na.rm = TRUE),
    avg_O_votes = mean(votes_o, na.rm = TRUE),
    total_avg_votes = rowSums(cbind(avg_R_votes, avg_D_votes, avg_O_votes), na.rm = TRUE),
    avg_R_vote_share = mean(R_vote_share, na.rm = TRUE),
    avg_Rpres_share = mean(Rpres., na.rm = TRUE)
  ) %>%
  ungroup()

result$diff_vote_share <- result$avg_Rpres_share - result$avg_R_vote_share

result_final <- subset(result, select = c("state_abbrev", "dist", "diff_vote_share"))
print(result_final, n = Inf) 

```

